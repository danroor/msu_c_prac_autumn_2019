Problem up04-4: Про Мииихаила и Игооооря (дореш)

Мииихаил и Игоооорь играют в чате в следующую игру. Один игрок отправляет другому файл, который должен быть обработан по специальным правилам и переслан судье Petrovi4. Выигрывает тот игрок, который переслал судье файл, контрольная сумма которого делится нацело на константу G.

Вам нужно написать программу, обрабатывающую файл по правилам игры. Пересылать файл или проверять его контрольную сумму не требуется.

В аргументах командной строки задается путь к бинарному файлу, содержащему целые знаковые числа типа long long, записанные в порядке байт хоста (компьютера, на котором исполняется программа). В файле найдите минимальное число и поменяйте его знак. Если минимальное число в файле встречается несколько раз, поменяйте знак только у первого по порядку минимального числа. При вычислениях предполагайте неограниченную битность, но в качестве результата оставьте младшие 64 бита.

Для работы с файлом используйте POSIX API. Допускается только один проход по файлу, но бинарный файл является файлом произвольного доступа.

На 32-битных системах компилируйте вашу программу с опцией -D_FILE_OFFSET_BITS=64. Не допускайте в программе undefined behavior.

Например, если дан входной бинарный файл input.bin, результатом обработки его должен быть файл распечатка содержимого которого показана ниже.

hexdump -C input.bin
00000000  03 00 00 00 00 00 00 00  fe ff ff ff ff ff ff ff  |................|
00000010  04 00 00 00 00 00 00 00                           |........|
00000018
